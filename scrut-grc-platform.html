<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrut GRC Automation Platform</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --dark: #1f2937;
            --light: #f9fafb;
            --border: #e5e7eb;
            --text: #374151;
            --text-light: #6b7280;
            --sidebar-width: 260px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
            background-color: var(--light);
            color: var(--text);
            height: 100%;
            overflow: hidden;
        }

        body {
            display: flex;
        }

        /* SIDEBAR */
        .sidebar {
            width: var(--sidebar-width);
            background: white;
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            color: var(--primary);
        }

        .sidebar-logo {
            width: 36px;
            height: 36px;
            background: var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 16px;
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px 0;
        }

        .sidebar-item {
            padding: 12px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--text);
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
            user-select: none;
        }

        .sidebar-item:hover {
            background-color: var(--light);
            color: var(--primary);
        }

        .sidebar-item.active {
            background-color: #f0f4ff;
            color: var(--primary);
            border-left: 3px solid var(--primary);
            padding-left: 17px;
        }

        .sidebar-item-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .sidebar-item.expandable .sidebar-item-icon {
            transition: transform 0.2s;
        }

        .sidebar-item.expandable.expanded .sidebar-item-icon {
            transform: rotate(90deg);
        }

        .sidebar-submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .sidebar-item.expandable.expanded + .sidebar-submenu {
            max-height: 500px;
        }

        .sidebar-submenu-item {
            padding: 10px 20px 10px 50px;
            font-size: 13px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s;
        }

        .sidebar-submenu-item:hover {
            color: var(--primary);
            background-color: var(--light);
        }

        .sidebar-submenu-item.active {
            color: var(--primary);
            font-weight: 600;
        }

        .sidebar-user {
            padding: 20px;
            border-top: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sidebar-user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 14px;
        }

        .sidebar-user-info {
            flex: 1;
        }

        .sidebar-user-name {
            font-size: 13px;
            font-weight: 600;
            color: var(--text);
        }

        .sidebar-user-role {
            font-size: 11px;
            color: var(--text-light);
        }

        /* MAIN CONTENT */
        .main {
            margin-left: var(--sidebar-width);
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        .header {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text);
        }

        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .dropdown-select {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: white;
            color: var(--text);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .dropdown-select:hover {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .btn-secondary {
            background: var(--light);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: white;
            border-color: var(--primary);
            color: var(--primary);
        }

        .content {
            flex: 1;
            overflow-y: auto;
            padding: 30px 40px;
            display: none;
        }

        .content.active {
            display: block;
        }

        /* TABS */
        .tabs {
            display: flex;
            gap: 0;
            border-bottom: 2px solid var(--border);
            margin-bottom: 30px;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-light);
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.2s;
        }

        .tab:hover {
            color: var(--text);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* CARDS */
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
        }

        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 20px;
        }

        /* BADGES */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-align: center;
        }

        .badge-success {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-danger {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-warning {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-info {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-secondary {
            background: #f3f4f6;
            color: #6b7280;
        }

        /* SUMMARY CARDS */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .summary-card-label {
            font-size: 12px;
            color: var(--text-light);
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .summary-card-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 12px;
        }

        .summary-card-meta {
            font-size: 12px;
            color: var(--text-light);
        }

        /* PROGRESS BAR */
        .progress {
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-bar {
            height: 100%;
            background: var(--success);
            border-radius: 4px;
            transition: width 0.3s;
        }

        /* FILTERS */
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-button {
            padding: 8px 14px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: white;
            color: var(--text);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-button:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* TABLE */
        .table-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .table-header {
            display: flex;
            padding: 20px;
            gap: 12px;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .table-header-actions {
            display: flex;
            gap: 12px;
            margin-left: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table thead {
            background: var(--light);
            border-bottom: 1px solid var(--border);
        }

        .table th {
            padding: 14px 16px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            cursor: pointer;
            user-select: none;
        }

        .table th:hover {
            background: #f3f4f6;
        }

        .table td {
            padding: 14px 16px;
            border-bottom: 1px solid var(--border);
            font-size: 13px;
        }

        .table tbody tr:hover {
            background-color: var(--light);
        }

        .table-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .search-box {
            padding: 10px 14px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 13px;
            width: 100%;
            max-width: 300px;
        }

        /* GRID LAYOUT */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 30px;
        }

        .chart-container-small {
            position: relative;
            height: 200px;
        }

        /* GAUGES */
        .gauges-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gauge {
            text-align: center;
        }

        .gauge-canvas {
            max-width: 150px;
            margin: 0 auto;
        }

        .gauge-label {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 10px;
            font-weight: 600;
        }

        /* HEAT MAP */
        .heatmap {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1px;
            background: var(--border);
            padding: 1px;
            border-radius: 8px;
            overflow: hidden;
        }

        .heatmap-cell {
            background: white;
            padding: 20px;
            text-align: center;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 120px;
            font-weight: 600;
        }

        .heatmap-value {
            font-size: 24px;
            font-weight: 700;
        }

        .heatmap-label {
            font-size: 11px;
            color: var(--text-light);
        }

        /* FRAMEWORK CARDS */
        .framework-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .framework-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .framework-card-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
        }

        .framework-compliance {
            font-size: 14px;
            font-weight: 700;
            color: var(--info);
        }

        .framework-gauges {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 16px;
        }

        .framework-gauge-item {
            text-align: center;
        }

        .framework-gauge-label {
            font-size: 11px;
            color: var(--text-light);
            margin-top: 8px;
            font-weight: 600;
        }

        /* EMPTY STATE */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        /* STATUS HIGHLIGHT */
        .status-highlight {
            padding: 12px 16px;
            background: #fef3c7;
            border-left: 4px solid var(--warning);
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .status-highlight-icon {
            font-size: 20px;
        }

        .status-highlight-text {
            font-size: 13px;
            color: #92400e;
        }

        /* AUDIT STATUS */
        .audit-status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .audit-status-upcoming {
            background: #fef3c7;
            color: #92400e;
        }

        .audit-status-in-progress {
            background: #fed7aa;
            color: #92400e;
        }

        .audit-status-completed {
            background: #d1fae5;
            color: #065f46;
        }

        /* SCROLLBAR */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-light);
        }

        /* FRAMEWORK PILLS */
        .framework-pill {
            display: inline-block;
            padding: 4px 10px;
            background: #f0f4ff;
            color: var(--primary);
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        /* CONTROL STATUS */
        .control-status-compliant {
            color: var(--success);
            font-weight: 600;
        }

        .control-status-non-compliant {
            color: var(--danger);
            font-weight: 600;
        }

        .control-status-not-applicable {
            color: var(--text-light);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- SIDEBAR -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">GR</div>
            <span>GRC Automation</span>
        </div>

        <div class="sidebar-content">
            <!-- Dashboard -->
            <div class="sidebar-item active" data-page="dashboard">
                <div class="sidebar-item-icon">üìä</div>
                <span>Dashboard</span>
            </div>

            <!-- Tests -->
            <div class="sidebar-item" data-page="tests">
                <div class="sidebar-item-icon">‚úì</div>
                <span>Tests</span>
            </div>

            <!-- Compliance (expandable) -->
            <div class="sidebar-item expandable expanded" data-toggle="compliance">
                <div class="sidebar-item-icon">‚û§</div>
                <span>Compliance</span>
            </div>
            <div class="sidebar-submenu">
                <div class="sidebar-submenu-item" data-page="frameworks">Frameworks</div>
                <div class="sidebar-submenu-item" data-page="controls">Controls</div>
                <div class="sidebar-submenu-item" data-page="policies">Policies</div>
                <div class="sidebar-submenu-item" data-page="evidence">Evidence Tasks</div>
                <div class="sidebar-submenu-item">Cloud</div>
            </div>

            <!-- Vault -->
            <div class="sidebar-item" data-page="vault">
                <div class="sidebar-item-icon">üîí</div>
                <span>Vault</span>
            </div>

            <!-- Risk (expandable) -->
            <div class="sidebar-item expandable" data-toggle="risk">
                <div class="sidebar-item-icon">‚û§</div>
                <span>Risk</span>
            </div>
            <div class="sidebar-submenu">
                <div class="sidebar-submenu-item" data-page="vendors">Vendors</div>
                <div class="sidebar-submenu-item" data-page="risk-management">Risk Management</div>
            </div>

            <!-- Trust -->
            <div class="sidebar-item" data-page="trust">
                <div class="sidebar-item-icon">‚ú®</div>
                <span>Trust</span>
            </div>

            <!-- Audit (expandable) -->
            <div class="sidebar-item expandable" data-toggle="audit">
                <div class="sidebar-item-icon">‚û§</div>
                <span>Audit</span>
            </div>
            <div class="sidebar-submenu">
                <div class="sidebar-submenu-item" data-page="audit-center">Audit Center</div>
                <div class="sidebar-submenu-item">Corrective Action</div>
            </div>

            <!-- People (expandable) -->
            <div class="sidebar-item expandable" data-toggle="people">
                <div class="sidebar-item-icon">‚û§</div>
                <span>People</span>
            </div>
            <div class="sidebar-submenu">
                <div class="sidebar-submenu-item">Users</div>
                <div class="sidebar-submenu-item">Roles</div>
            </div>

            <!-- Asset Management -->
            <div class="sidebar-item" data-page="assets">
                <div class="sidebar-item-icon">üì¶</div>
                <span>Asset Management</span>
            </div>

            <!-- Settings -->
            <div class="sidebar-item" data-page="settings">
                <div class="sidebar-item-icon">‚öôÔ∏è</div>
                <span>Settings</span>
            </div>
        </div>

        <div class="sidebar-user">
            <div class="sidebar-user-avatar">SG</div>
            <div class="sidebar-user-info">
                <div class="sidebar-user-name">Subham Gupta</div>
                <div class="sidebar-user-role">Admin</div>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main">
        <!-- DASHBOARD PAGE -->
        <div id="dashboard" class="content active">
            <div class="header">
                <div class="header-title">Dashboard</div>
                <div class="header-actions">
                    <select class="dropdown-select">
                        <option>All Entities</option>
                        <option>Entity 1</option>
                        <option>Entity 2</option>
                    </select>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <!-- TOP SECTION -->
                <div style="padding: 0 40px; padding-top: 30px;">
                    <div class="grid-2">
                        <!-- Compliance Progress -->
                        <div class="card">
                            <div class="card-title">Compliance Progress</div>
                            <div style="position: relative; height: 200px; margin-bottom: 20px;">
                                <canvas id="complianceChart"></canvas>
                            </div>
                        </div>

                        <!-- Jobs that need attention -->
                        <div class="card">
                            <div class="card-title">Jobs that need attention</div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 14px; color: var(--text-light); margin-bottom: 8px;">Policies</div>
                                    <div style="font-size: 32px; font-weight: 700; color: var(--text);">0</div>
                                    <div class="badge badge-secondary" style="display: inline-block; margin-top: 8px;">0</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 14px; color: var(--text-light); margin-bottom: 8px;">Evidence Tasks</div>
                                    <div style="font-size: 32px; font-weight: 700; color: var(--text);">3</div>
                                    <div class="badge badge-warning" style="display: inline-block; margin-top: 8px;">3</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 14px; color: var(--text-light); margin-bottom: 8px;">Automated Tests</div>
                                    <div style="font-size: 32px; font-weight: 700; color: var(--text);">32</div>
                                    <div class="badge badge-danger" style="display: inline-block; margin-top: 8px;">32</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Metrics Row -->
                    <div style="margin-top: 30px;">
                        <div style="font-size: 14px; font-weight: 600; color: var(--text); margin-bottom: 20px;">Sub-Metrics</div>
                        <div class="gauges-row">
                            <div class="gauge">
                                <canvas id="gauge1" class="gauge-canvas"></canvas>
                                <div class="gauge-label">Policies 100%</div>
                            </div>
                            <div class="gauge">
                                <canvas id="gauge2" class="gauge-canvas"></canvas>
                                <div class="gauge-label">Evidence Tasks 95.2%</div>
                            </div>
                            <div class="gauge">
                                <canvas id="gauge3" class="gauge-canvas"></canvas>
                                <div class="gauge-label">Automated Tests 72.1%</div>
                            </div>
                        </div>
                    </div>

                    <!-- BOTTOM SECTION -->
                    <div style="margin-top: 40px;">
                        <!-- Vulnerability Overview -->
                        <div class="card" style="margin-bottom: 30px;">
                            <div class="empty-state">
                                <div class="empty-state-icon">üõ°Ô∏è</div>
                                <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">No vulnerabilities found!</h3>
                                <p style="font-size: 13px; color: var(--text-light);">Your systems are secure and compliant.</p>
                            </div>
                        </div>

                        <!-- Cloud Security Overview -->
                        <div class="card" style="margin-bottom: 30px;">
                            <div class="card-title">Cloud Security Overview</div>
                            <div style="margin-bottom: 16px;">
                                <span class="badge badge-info" style="display: inline-block;">AWS</span>
                            </div>
                            <div style="position: relative; height: 250px;">
                                <canvas id="cloudSecurityChart"></canvas>
                            </div>
                        </div>

                        <!-- Frameworks -->
                        <div class="card" style="margin-bottom: 30px;">
                            <div class="card-title">Frameworks Compliance</div>
                            <div style="display: flex; flex-direction: column; gap: 24px;">
                                <div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                        <span style="font-size: 14px; font-weight: 600; color: var(--text);">GDPR</span>
                                        <span style="font-size: 14px; font-weight: 700; color: var(--success);">88% Compliant</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 88%; background: var(--info);"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                        <span style="font-size: 14px; font-weight: 600; color: var(--text);">SOC 2</span>
                                        <span style="font-size: 14px; font-weight: 700; color: var(--success);">77% Compliant</span>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 77%; background: var(--info);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Upcoming Audits -->
                        <div class="card">
                            <div class="card-title">Upcoming Audits</div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px; background: var(--light); border-radius: 8px;">
                                <div>
                                    <div style="font-size: 14px; font-weight: 600; color: var(--text);">Aug 31 - SOC 2 AUDIT</div>
                                    <div style="font-size: 12px; color: var(--text-light); margin-top: 4px;">External Audit</div>
                                </div>
                                <span class="badge badge-info">External</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTROLS PAGE -->
        <div id="controls" class="content">
            <div class="header">
                <div class="header-title">Controls 190</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Custom Control</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="controls-dashboard">Dashboard</div>
                        <div class="tab" data-tab="controls-all">All Controls</div>
                    </div>

                    <!-- DASHBOARD TAB -->
                    <div id="controls-dashboard" class="tab-content active">
                        <!-- Summary Cards -->
                        <div class="summary-cards">
                            <div class="summary-card">
                                <div class="summary-card-label">Compliant</div>
                                <div class="summary-card-value" style="color: var(--success);">153</div>
                                <div class="summary-card-meta">82.7% of 185</div>
                                <div class="progress" style="margin-top: 10px;">
                                    <div class="progress-bar" style="width: 82.7%; background: var(--success);"></div>
                                </div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Non Compliant</div>
                                <div class="summary-card-value" style="color: var(--danger);">32</div>
                                <div class="summary-card-meta">17.3% of 185</div>
                                <span class="badge badge-danger" style="display: inline-block; margin-top: 10px;">Non Compliant</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Not Applicable</div>
                                <div class="summary-card-value">5</div>
                                <div class="summary-card-meta">Of 190</div>
                                <span class="badge badge-secondary" style="display: inline-block; margin-top: 10px;">N/A</span>
                            </div>
                        </div>

                        <!-- Filters -->
                        <div class="filters">
                            <button class="filter-button">üîΩ Assignee</button>
                            <button class="filter-button">üîΩ Framework</button>
                            <button class="filter-button">üîΩ Entities</button>
                            <button class="filter-button">üîΩ Domain</button>
                            <button class="filter-button">üîΩ Function Grouping</button>
                            <button class="filter-button">üîΩ Control Scope</button>
                        </div>

                        <!-- Charts -->
                        <div class="grid-2">
                            <div class="card">
                                <div class="card-title">Function Grouping</div>
                                <div style="position: relative; height: 250px;">
                                    <canvas id="functionGroupingChart"></canvas>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-title">By Framework</div>
                                <div style="position: relative; height: 250px;">
                                    <canvas id="byFrameworkChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ALL CONTROLS TAB -->
                    <div id="controls-all" class="tab-content">
                        <div class="table-container">
                            <div class="table-header">
                                <input type="text" class="search-box" placeholder="Search by control code, name">
                                <div class="table-header-actions">
                                    <button class="btn btn-secondary">‚ò∞ Columns</button>
                                    <button class="btn btn-secondary">‚¨á Export</button>
                                </div>
                            </div>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th style="width: 40px;"><input type="checkbox" class="table-checkbox"></th>
                                        <th>Control Name</th>
                                        <th>Control Code</th>
                                        <th>Status</th>
                                        <th>Assignee</th>
                                        <th>Control Domain</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Third-Party Inventories</td>
                                        <td>TPM-01.1</td>
                                        <td><span class="control-status-non-compliant">Non Compliant</span></td>
                                        <td>-</td>
                                        <td>Third-Party Management</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Role-Based Security & Privacy Training</td>
                                        <td>SAT-03</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Security Awareness and Training</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Web Application Firewall (WAF)</td>
                                        <td>WEB-03</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Web Security</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Secure Coding</td>
                                        <td>TDA-06</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Technology Development and Acquisition</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Third-Party Risk Assessments & Approvals</td>
                                        <td>TPM-04.1</td>
                                        <td><span class="control-status-non-compliant">Non Compliant</span></td>
                                        <td>-</td>
                                        <td>Third-Party Management</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Penetration Testing</td>
                                        <td>VPM-07</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Vulnerability and Patch Management</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Access Control Policy</td>
                                        <td>ACP-01</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Access Control</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Encryption at Rest</td>
                                        <td>ENC-02</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Data Protection</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Incident Response Plan</td>
                                        <td>IRP-03</td>
                                        <td><span class="control-status-non-compliant">Non Compliant</span></td>
                                        <td>-</td>
                                        <td>Incident Management</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Business Continuity Plan</td>
                                        <td>BCP-01</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Business Continuity</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Data Classification</td>
                                        <td>DCP-04</td>
                                        <td><span class="control-status-compliant">Compliant</span></td>
                                        <td>-</td>
                                        <td>Data Protection</td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Network Segmentation</td>
                                        <td>NET-05</td>
                                        <td><span class="control-status-non-compliant">Non Compliant</span></td>
                                        <td>-</td>
                                        <td>Network Security</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FRAMEWORKS PAGE -->
        <div id="frameworks" class="content">
            <div class="header">
                <div class="header-title">Frameworks 2</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Custom Framework</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="frameworks-my">My Frameworks</div>
                        <div class="tab" data-tab="frameworks-library">Frameworks Library</div>
                    </div>

                    <!-- MY FRAMEWORKS TAB -->
                    <div id="frameworks-my" class="tab-content active">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <div style="display: flex; gap: 12px;">
                                <select class="dropdown-select">
                                    <option>Highest Compliance</option>
                                    <option>Lowest Compliance</option>
                                    <option>Newest</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-secondary">‚äû Grid</button>
                                <button class="btn btn-secondary">‚â° List</button>
                            </div>
                        </div>

                        <div class="grid-2">
                            <!-- GDPR Card -->
                            <div class="framework-card">
                                <div class="framework-card-header">
                                    <div class="framework-card-title">GDPR</div>
                                    <div class="framework-compliance">88.1%</div>
                                </div>
                                <div class="progress" style="margin-bottom: 20px;">
                                    <div class="progress-bar" style="width: 88.1%; background: var(--info);"></div>
                                </div>
                                <div class="framework-gauges">
                                    <div class="framework-gauge-item">
                                        <canvas id="gdprGauge1" style="max-width: 100px; margin: 0 auto;"></canvas>
                                        <div class="framework-gauge-label">Policies 100%</div>
                                    </div>
                                    <div class="framework-gauge-item">
                                        <canvas id="gdprGauge2" style="max-width: 100px; margin: 0 auto;"></canvas>
                                        <div class="framework-gauge-label">Evidence Tasks 100%</div>
                                    </div>
                                    <div class="framework-gauge-item">
                                        <canvas id="gdprGauge3" style="max-width: 100px; margin: 0 auto;"></canvas>
                                        <div class="framework-gauge-label">Automated Tests 77.7%</div>
                                    </div>
                                </div>
                            </div>

                            <!-- SOC 2 Card -->
                            <div class="framework-card">
                                <div class="framework-card-header">
                                    <div class="framework-card-title">SOC 2</div>
                                    <div class="framework-compliance">77.1%</div>
                                </div>
                                <div class="progress" style="margin-bottom: 20px;">
                                    <div class="progress-bar" style="width: 77.1%; background: var(--info);"></div>
                                </div>
                                <div class="framework-gauges">
                                    <div class="framework-gauge-item">
                                        <canvas id="soc2Gauge1" style="max-width: 100px; margin: 0 auto;"></canvas>
                                        <div class="framework-gauge-label">Policies 100%</div>
                                    </div>
                                    <div class="framework-gauge-item">
                                        <canvas id="soc2Gauge2" style="max-width: 100px; margin: 0 auto;"></canvas>
                                        <div class="framework-gauge-label">Evidence Tasks 93.8%</div>
                                    </div>
                                    <div class="framework-gauge-item">
                                        <canvas id="soc2Gauge3" style="max-width: 100px; margin: 0 auto;"></canvas>
                                        <div class="framework-gauge-label">Automated Tests 73.1%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FRAMEWORKS LIBRARY TAB -->
                    <div id="frameworks-library" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üìö</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Framework Library</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Browse and add frameworks from the library</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- POLICIES PAGE -->
        <div id="policies" class="content">
            <div class="header">
                <div class="header-title">Policies 65</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Policy</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="policies-dashboard">Dashboard</div>
                        <div class="tab" data-tab="policies-all">All Policies</div>
                    </div>

                    <!-- DASHBOARD TAB -->
                    <div id="policies-dashboard" class="tab-content active">
                        <!-- Filters -->
                        <div class="filters">
                            <button class="filter-button">üîΩ Assignee</button>
                            <button class="filter-button">üîΩ Department</button>
                            <button class="filter-button">üîΩ Framework</button>
                            <button class="filter-button">üîΩ Entities</button>
                            <button class="filter-button">üîΩ Relevance</button>
                        </div>

                        <!-- Summary Cards -->
                        <div class="summary-cards">
                            <div class="summary-card">
                                <div class="summary-card-label">Not Uploaded</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">No pending uploads</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Draft</div>
                                <div class="summary-card-value" style="color: var(--info);">2</div>
                                <div class="summary-card-meta">Pending completion</div>
                                <span class="badge badge-info" style="display: inline-block; margin-top: 10px;">Draft</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Needs Review</div>
                                <div class="summary-card-value" style="color: var(--warning);">13</div>
                                <div class="summary-card-meta">Awaiting review</div>
                                <span class="badge badge-warning" style="display: inline-block; margin-top: 10px;">13</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Published</div>
                                <div class="summary-card-value" style="color: var(--success);">37</div>
                                <div class="summary-card-meta">37 of 52 active</div>
                                <span class="badge badge-success" style="display: inline-block; margin-top: 10px;">Published</span>
                            </div>
                        </div>

                        <!-- Chart -->
                        <div class="card">
                            <div class="card-title">Policies by Assignee</div>
                            <div style="position: relative; height: 300px;">
                                <canvas id="policiesByAssigneeChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- ALL POLICIES TAB -->
                    <div id="policies-all" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üìã</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">All Policies</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View and manage all policies</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- EVIDENCE TASKS PAGE -->
        <div id="evidence" class="content">
            <div class="header">
                <div class="header-title">Evidence Tasks 183</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Evidence</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="evidence-dashboard">Dashboard</div>
                        <div class="tab" data-tab="evidence-all">All Evidences</div>
                    </div>

                    <!-- DASHBOARD TAB -->
                    <div id="evidence-dashboard" class="tab-content active">
                        <!-- Filters -->
                        <div class="filters">
                            <button class="filter-button">üîΩ Assignee</button>
                            <button class="filter-button">üîΩ Department</button>
                            <button class="filter-button">üîΩ Framework</button>
                            <button class="filter-button">üîΩ Entities</button>
                            <button class="filter-button">üîΩ Relevance</button>
                        </div>

                        <!-- Summary Cards -->
                        <div class="summary-cards">
                            <div class="summary-card">
                                <div class="summary-card-label">Not Uploaded</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">All up to date</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Draft</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">No drafts</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Needs Attention</div>
                                <div class="summary-card-value" style="color: var(--warning);">3</div>
                                <div class="summary-card-meta">Action required</div>
                                <span class="badge badge-warning" style="display: inline-block; margin-top: 10px;">3</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Uploaded</div>
                                <div class="summary-card-value" style="color: var(--success);">60</div>
                                <div class="summary-card-meta">60 of 63 complete</div>
                                <span class="badge badge-success" style="display: inline-block; margin-top: 10px;">Uploaded</span>
                            </div>
                        </div>

                        <!-- Chart -->
                        <div class="card">
                            <div class="card-title">Evidences by Assignee</div>
                            <div style="position: relative; height: 300px;">
                                <canvas id="evidencesByAssigneeChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- ALL EVIDENCES TAB -->
                    <div id="evidence-all" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üì¶</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">All Evidences</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View and manage all evidence tasks</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TESTS PAGE -->
        <div id="tests" class="content">
            <div class="header">
                <div class="header-title">Tests 215</div>
                <div class="header-actions"></div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- Summary Cards -->
                    <div class="summary-cards">
                        <div class="summary-card">
                            <div class="summary-card-label">OK</div>
                            <div class="summary-card-value" style="color: var(--success);">180</div>
                            <div class="summary-card-meta">180 of 215</div>
                            <span class="badge badge-success" style="display: inline-block; margin-top: 10px;">OK</span>
                        </div>
                        <div class="summary-card">
                            <div class="summary-card-label">Needs Attention</div>
                            <div class="summary-card-value" style="color: var(--danger);">35</div>
                            <div class="summary-card-meta">Action required</div>
                            <span class="badge badge-danger" style="display: inline-block; margin-top: 10px;">35</span>
                        </div>
                        <div class="summary-card">
                            <div class="summary-card-label">Ignored</div>
                            <div class="summary-card-value">18</div>
                            <div class="summary-card-meta">Not applicable</div>
                            <span class="badge badge-secondary" style="display: inline-block; margin-top: 10px;">Ignored</span>
                        </div>
                    </div>

                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="tests-all">All</div>
                        <div class="tab" data-tab="tests-automated">Automated Tests</div>
                        <div class="tab" data-tab="tests-policy">Policy</div>
                        <div class="tab" data-tab="tests-evidence">Evidence</div>
                    </div>

                    <!-- ALL TESTS TAB -->
                    <div id="tests-all" class="tab-content active">
                        <div class="table-container">
                            <div class="table-header">
                                <button class="btn btn-secondary">‚ò∞ Columns</button>
                                <button class="btn btn-secondary">‚¨á Export</button>
                            </div>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th style="width: 40px;"><input type="checkbox" class="table-checkbox"></th>
                                        <th>Test Name</th>
                                        <th>Status</th>
                                        <th>Type</th>
                                        <th>Effort Estimate</th>
                                        <th>Applications</th>
                                        <th>Assignees</th>
                                        <th>Framework</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Github accounts deprovisioned when personnel leave</td>
                                        <td><span class="badge badge-danger" style="display: inline-block;">Needs Attention</span></td>
                                        <td>Automated Test</td>
                                        <td>High</td>
                                        <td>Scrut</td>
                                        <td>-</td>
                                        <td><span class="framework-pill">SOC 2</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Scrut accounts deprovisioned when personnel leave</td>
                                        <td><span class="badge badge-danger" style="display: inline-block;">Needs Attention</span></td>
                                        <td>Automated Test</td>
                                        <td>High</td>
                                        <td>Scrut</td>
                                        <td>-</td>
                                        <td><span class="framework-pill">SOC 2</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Reviewed and Approved Network Diagram</td>
                                        <td><span class="badge badge-success" style="display: inline-block;">OK</span></td>
                                        <td>Evidence</td>
                                        <td>Medium</td>
                                        <td>Scrut</td>
                                        <td>VS</td>
                                        <td><span class="framework-pill">SOC 2</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Fire Extinguisher with Signage</td>
                                        <td><span class="badge badge-success" style="display: inline-block;">OK</span></td>
                                        <td>Evidence</td>
                                        <td>Medium</td>
                                        <td>Scrut</td>
                                        <td>F PP</td>
                                        <td><span class="framework-pill">SOC 2</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>JD to show CISO role & responsibilities</td>
                                        <td><span class="badge badge-success" style="display: inline-block;">OK</span></td>
                                        <td>Evidence</td>
                                        <td>Low</td>
                                        <td>Scrut</td>
                                        <td>CM AI</td>
                                        <td><span class="framework-pill">SOC 2</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Annual Security Training Completion</td>
                                        <td><span class="badge badge-success" style="display: inline-block;">OK</span></td>
                                        <td>Policy</td>
                                        <td>Medium</td>
                                        <td>Scrut</td>
                                        <td>NS</td>
                                        <td><span class="framework-pill">GDPR</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Vulnerability Scan Results</td>
                                        <td><span class="badge badge-danger" style="display: inline-block;">Needs Attention</span></td>
                                        <td>Automated Test</td>
                                        <td>High</td>
                                        <td>Scrut</td>
                                        <td>-</td>
                                        <td><span class="framework-pill">SOC 2</span></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="table-checkbox"></td>
                                        <td>Background Check Process</td>
                                        <td><span class="badge badge-success" style="display: inline-block;">OK</span></td>
                                        <td>Evidence</td>
                                        <td>Low</td>
                                        <td>Scrut</td>
                                        <td>AJ</td>
                                        <td><span class="framework-pill">GDPR</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Other tabs -->
                    <div id="tests-automated" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">‚öôÔ∏è</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Automated Tests</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View automated test results</p>
                        </div>
                    </div>
                    <div id="tests-policy" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üìã</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Policy Tests</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View policy-related tests</p>
                        </div>
                    </div>
                    <div id="tests-evidence" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üì¶</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Evidence Tests</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View evidence-related tests</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- RISK MANAGEMENT PAGE -->
        <div id="risk-management" class="content">
            <div class="header">
                <div class="header-title">Risk Management</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Risk</button>
                    <button class="btn btn-secondary">üìä Export Risk Report</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="risk-dashboard">Dashboard</div>
                        <div class="tab" data-tab="risk-register">Risk Register</div>
                        <div class="tab" data-tab="risk-mitigation">Mitigation Task</div>
                        <div class="tab" data-tab="risk-discovery">Risk Discovery</div>
                    </div>

                    <!-- DASHBOARD TAB -->
                    <div id="risk-dashboard" class="tab-content active">
                        <!-- Filters -->
                        <div class="filters">
                            <button class="filter-button">üîΩ Assignee</button>
                            <button class="filter-button">üîΩ Department</button>
                            <button class="filter-button">üîΩ Category</button>
                            <button class="filter-button">üîΩ Entities</button>
                        </div>

                        <!-- Summary Cards -->
                        <div class="summary-cards">
                            <div class="summary-card">
                                <div class="summary-card-label">Open</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">No open risks</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Assessed</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">No assessed risks</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Treatment in Progress</div>
                                <div class="summary-card-value" style="color: var(--warning);">19</div>
                                <div class="summary-card-meta">In mitigation</div>
                                <span class="badge badge-warning" style="display: inline-block; margin-top: 10px;">In Progress</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Closed</div>
                                <div class="summary-card-value" style="color: var(--success);">21</div>
                                <div class="summary-card-meta">Resolved</div>
                                <span class="badge badge-success" style="display: inline-block; margin-top: 10px;">Closed</span>
                            </div>
                        </div>

                        <!-- Risk Heat Map -->
                        <div class="card" style="margin-bottom: 30px;">
                            <div class="card-title">Risk Heat Map</div>
                            <div style="margin-bottom: 20px;">
                                <select class="dropdown-select">
                                    <option>Risk Score</option>
                                    <option>Priority</option>
                                </select>
                            </div>
                            <div style="margin-bottom: 10px; font-size: 12px; color: var(--text-light); display: flex; gap: 20px;">
                                <span>X-Axis: Likelihood | Y-Axis: Impact</span>
                            </div>
                            <div class="heatmap">
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.3));">
                                    <div class="heatmap-value" style="color: var(--success);">20</div>
                                    <div class="heatmap-label">Low / Low</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.3));">
                                    <div class="heatmap-value" style="color: #10b981;">16</div>
                                    <div class="heatmap-label">Low / Medium</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.3));">
                                    <div class="heatmap-value" style="color: #10b981;">0</div>
                                    <div class="heatmap-label">Low / High</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.3));">
                                    <div class="heatmap-value" style="color: var(--success);">23</div>
                                    <div class="heatmap-label">Medium / Low</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.3));">
                                    <div class="heatmap-value" style="color: var(--warning);">24</div>
                                    <div class="heatmap-label">Medium / Medium</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(249, 115, 22, 0.3));">
                                    <div class="heatmap-value" style="color: #f97316;">2</div>
                                    <div class="heatmap-label">Medium / High</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.3));">
                                    <div class="heatmap-value" style="color: var(--success);">13</div>
                                    <div class="heatmap-label">High / Low</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.3));">
                                    <div class="heatmap-value" style="color: var(--warning);">18</div>
                                    <div class="heatmap-label">High / Medium</div>
                                </div>
                                <div class="heatmap-cell" style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.3));">
                                    <div class="heatmap-value" style="color: var(--danger);">7</div>
                                    <div class="heatmap-label">High / High</div>
                                </div>
                            </div>
                        </div>

                        <!-- Risk Trend -->
                        <div class="card">
                            <div class="card-title">Risk Trend (Last 7 Days)</div>
                            <div style="position: relative; height: 300px;">
                                <canvas id="riskTrendChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Other tabs -->
                    <div id="risk-register" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üìã</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Risk Register</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View all registered risks</p>
                        </div>
                    </div>
                    <div id="risk-mitigation" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üõ°Ô∏è</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Mitigation Tasks</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View and manage mitigation tasks</p>
                        </div>
                    </div>
                    <div id="risk-discovery" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üîç</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Risk Discovery</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Discover new risks</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- VENDOR MANAGEMENT PAGE -->
        <div id="vendors" class="content">
            <div class="header">
                <div class="header-title">Vendor Management</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Vendor</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="vendors-dashboard">Dashboard</div>
                        <div class="tab" data-tab="vendors-vendors">Vendors</div>
                        <div class="tab" data-tab="vendors-questionnaires">Questionnaires</div>
                        <div class="tab" data-tab="vendors-mitigation">Mitigation Tasks</div>
                        <div class="tab" data-tab="vendors-onboarding">Onboarding</div>
                    </div>

                    <!-- DASHBOARD TAB -->
                    <div id="vendors-dashboard" class="tab-content active">
                        <!-- Filters -->
                        <div class="filters">
                            <button class="filter-button">üîΩ Assignee</button>
                            <button class="filter-button">üîΩ Category</button>
                            <button class="filter-button">üîΩ Entities</button>
                            <button class="filter-button">üîΩ Vendor Status</button>
                        </div>

                        <!-- Summary Cards -->
                        <div class="summary-cards">
                            <div class="summary-card">
                                <div class="summary-card-label">Not Assessed</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">No pending</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">In Progress</div>
                                <div class="summary-card-value" style="color: var(--info);">10</div>
                                <div class="summary-card-meta">Being assessed</div>
                                <span class="badge badge-info" style="display: inline-block; margin-top: 10px;">In Progress</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Assessed</div>
                                <div class="summary-card-value" style="color: var(--success);">10</div>
                                <div class="summary-card-meta">Reviewed</div>
                                <span class="badge badge-success" style="display: inline-block; margin-top: 10px;">Assessed</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Needs Reassessment</div>
                                <div class="summary-card-value">0</div>
                                <div class="summary-card-meta">No pending</div>
                            </div>
                        </div>

                        <!-- Charts -->
                        <div class="grid-2">
                            <div class="card">
                                <div class="card-title">Questionnaire Status</div>
                                <div style="position: relative; height: 250px;">
                                    <canvas id="questionnaireStatusChart"></canvas>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-title">Mitigation Task Status</div>
                                <div class="empty-state" style="padding: 40px 20px;">
                                    <p style="font-size: 13px; color: var(--text-light);">No data to display</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Other tabs -->
                    <div id="vendors-vendors" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üè¢</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Vendors</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Manage your vendor list</p>
                        </div>
                    </div>
                    <div id="vendors-questionnaires" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üìã</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Questionnaires</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View vendor questionnaires</p>
                        </div>
                    </div>
                    <div id="vendors-mitigation" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üõ°Ô∏è</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Mitigation Tasks</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Track mitigation tasks</p>
                        </div>
                    </div>
                    <div id="vendors-onboarding" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üöÄ</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Onboarding</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Vendor onboarding process</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AUDIT CENTER PAGE -->
        <div id="audit-center" class="content">
            <div class="header">
                <div class="header-title">Audit Center</div>
                <div class="header-actions">
                    <button class="btn btn-primary">+ Add Audit</button>
                </div>
            </div>

            <div style="overflow-y: auto; flex: 1;">
                <div style="padding: 0 40px; padding-top: 30px;">
                    <!-- TABS -->
                    <div class="tabs">
                        <div class="tab active" data-tab="audit-audits">Audits (6)</div>
                        <div class="tab" data-tab="audit-requests">Requests</div>
                        <div class="tab" data-tab="audit-findings">Findings</div>
                        <div class="tab" data-tab="audit-actions">Corrective Actions</div>
                    </div>

                    <!-- AUDITS TAB -->
                    <div id="audit-audits" class="tab-content active">
                        <!-- Summary -->
                        <div class="summary-cards" style="margin-bottom: 30px;">
                            <div class="summary-card">
                                <div class="summary-card-label">Upcoming</div>
                                <div class="summary-card-value">1</div>
                                <div class="summary-card-meta">Scheduled</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">In Progress</div>
                                <div class="summary-card-value" style="color: var(--warning);">3</div>
                                <div class="summary-card-meta">Active audits</div>
                                <span class="badge badge-warning" style="display: inline-block; margin-top: 10px;">In Progress</span>
                            </div>
                            <div class="summary-card">
                                <div class="summary-card-label">Completed</div>
                                <div class="summary-card-value" style="color: var(--success);">2</div>
                                <div class="summary-card-meta">Finished</div>
                                <span class="badge badge-success" style="display: inline-block; margin-top: 10px;">Completed</span>
                            </div>
                        </div>

                        <!-- Table -->
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Audit Name</th>
                                        <th>Status</th>
                                        <th>Audit Type</th>
                                        <th>Audit Date</th>
                                        <th>Observation Period</th>
                                        <th>Entities</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>GDPR Audit</td>
                                        <td><span class="audit-status-badge audit-status-in-progress">In Progress</span></td>
                                        <td>External</td>
                                        <td>6 Feb 2026</td>
                                        <td>-</td>
                                        <td>Organization Wide</td>
                                        <td><button class="btn btn-secondary" style="font-size: 12px; padding: 4px 8px;">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>SOC 2 Audit</td>
                                        <td><span class="audit-status-badge audit-status-upcoming">Upcoming</span></td>
                                        <td>External</td>
                                        <td>31 Aug 2026</td>
                                        <td>-</td>
                                        <td>Organization Wide</td>
                                        <td><button class="btn btn-secondary" style="font-size: 12px; padding: 4px 8px;">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>SOC 2 Audit</td>
                                        <td><span class="audit-status-badge audit-status-completed">Completed</span></td>
                                        <td>External</td>
                                        <td>5 Jan 2026</td>
                                        <td>1 Jan 2025 - 1 Jan 2026</td>
                                        <td>Organization Wide</td>
                                        <td><button class="btn btn-secondary" style="font-size: 12px; padding: 4px 8px;">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>Internal Audit - SOC 2 and GDPR</td>
                                        <td><span class="audit-status-badge audit-status-completed">Completed</span></td>
                                        <td>Internal</td>
                                        <td>5 Aug 2025</td>
                                        <td>-</td>
                                        <td>Organization Wide</td>
                                        <td><button class="btn btn-secondary" style="font-size: 12px; padding: 4px 8px;">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>Internal Audit</td>
                                        <td><span class="audit-status-badge audit-status-in-progress">In Progress</span></td>
                                        <td>Internal</td>
                                        <td>2 Jun 2025</td>
                                        <td>-</td>
                                        <td>Organization Wide</td>
                                        <td><button class="btn btn-secondary" style="font-size: 12px; padding: 4px 8px;">View</button></td>
                                    </tr>
                                    <tr>
                                        <td>SOC2</td>
                                        <td><span class="audit-status-badge audit-status-in-progress">In Progress</span></td>
                                        <td>-</td>
                                        <td>11 Jan 2024</td>
                                        <td>11 Jan 2024 - 31 Jan 2024</td>
                                        <td>Organization Wide</td>
                                        <td><button class="btn btn-secondary" style="font-size: 12px; padding: 4px 8px;">View</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Other tabs -->
                    <div id="audit-requests" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üì¨</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Audit Requests</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Manage audit requests</p>
                        </div>
                    </div>
                    <div id="audit-findings" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">üîç</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Findings</h3>
                            <p style="font-size: 13px; color: var(--text-light);">View audit findings</p>
                        </div>
                    </div>
                    <div id="audit-actions" class="tab-content">
                        <div class="empty-state" style="padding: 60px 20px;">
                            <div class="empty-state-icon">‚úÖ</div>
                            <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Corrective Actions</h3>
                            <p style="font-size: 13px; color: var(--text-light);">Track corrective actions</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PLACEHOLDER PAGES (Vault, Trust, Assets, Settings) -->
        <div id="vault" class="content">
            <div class="header">
                <div class="header-title">Vault</div>
            </div>
            <div style="overflow-y: auto; flex: 1; padding: 0 40px; padding-top: 30px;">
                <div class="empty-state" style="padding: 60px 20px;">
                    <div class="empty-state-icon">üîí</div>
                    <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Vault</h3>
                    <p style="font-size: 13px; color: var(--text-light);">Secure document storage and management</p>
                </div>
            </div>
        </div>

        <div id="trust" class="content">
            <div class="header">
                <div class="header-title">Trust</div>
            </div>
            <div style="overflow-y: auto; flex: 1; padding: 0 40px; padding-top: 30px;">
                <div class="empty-state" style="padding: 60px 20px;">
                    <div class="empty-state-icon">‚ú®</div>
                    <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Trust Center</h3>
                    <p style="font-size: 13px; color: var(--text-light);">Build and manage trust with stakeholders</p>
                </div>
            </div>
        </div>

        <div id="assets" class="content">
            <div class="header">
                <div class="header-title">Asset Management</div>
            </div>
            <div style="overflow-y: auto; flex: 1; padding: 0 40px; padding-top: 30px;">
                <div class="empty-state" style="padding: 60px 20px;">
                    <div class="empty-state-icon">üì¶</div>
                    <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Asset Management</h3>
                    <p style="font-size: 13px; color: var(--text-light);">Manage and track your IT assets</p>
                </div>
            </div>
        </div>

        <div id="settings" class="content">
            <div class="header">
                <div class="header-title">Settings</div>
            </div>
            <div style="overflow-y: auto; flex: 1; padding: 0 40px; padding-top: 30px;">
                <div class="empty-state" style="padding: 60px 20px;">
                    <div class="empty-state-icon">‚öôÔ∏è</div>
                    <h3 style="font-size: 18px; color: var(--text); margin-bottom: 8px; font-weight: 600;">Settings</h3>
                    <p style="font-size: 13px; color: var(--text-light);">Configure your platform preferences</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // NAVIGATION LOGIC
        const sidebarItems = document.querySelectorAll('.sidebar-item[data-page]');
        const contentSections = document.querySelectorAll('.content');

        sidebarItems.forEach(item => {
            item.addEventListener('click', (e) => {
                const pageId = item.getAttribute('data-page');
                showPage(pageId);

                // Update active states
                document.querySelectorAll('.sidebar-item[data-page]').forEach(i => i.classList.remove('active'));
                item.classList.add('active');

                // Update submenu active states
                document.querySelectorAll('.sidebar-submenu-item').forEach(i => i.classList.remove('active'));
            });
        });

        // Submenu navigation
        const submenuItems = document.querySelectorAll('.sidebar-submenu-item[data-page]');
        submenuItems.forEach(item => {
            item.addEventListener('click', (e) => {
                const pageId = item.getAttribute('data-page');
                showPage(pageId);

                // Update active states
                document.querySelectorAll('.sidebar-submenu-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });
        });

        function showPage(pageId) {
            contentSections.forEach(section => section.classList.remove('active'));
            const pageElement = document.getElementById(pageId);
            if (pageElement) {
                pageElement.classList.add('active');
            }
        }

        // EXPANDABLE SIDEBAR
        const expandables = document.querySelectorAll('.sidebar-item.expandable');
        expandables.forEach(item => {
            item.addEventListener('click', (e) => {
                item.classList.toggle('expanded');
            });
        });

        // TAB SWITCHING
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');

                // Find parent content container
                let parent = tab.closest('.content') || tab.closest('div');
                if (!parent) return;

                // Hide all tabs in this container
                const allTabs = parent.querySelectorAll('.tab-content');
                allTabs.forEach(t => t.classList.remove('active'));

                // Remove active from all tab buttons
                const allTabButtons = parent.querySelectorAll('.tab');
                allTabButtons.forEach(t => t.classList.remove('active'));

                // Show selected tab
                const selectedContent = parent.querySelector(`#${tabName}`);
                if (selectedContent) {
                    selectedContent.classList.add('active');
                    tab.classList.add('active');

                    // Initialize charts if needed
                    setTimeout(() => {
                        initializeCharts();
                    }, 100);
                }
            });
        });

        // CHARTS INITIALIZATION
        let chartInstances = {};

        function initializeCharts() {
            // Dashboard - Compliance Progress
            if (document.getElementById('complianceChart')) {
                const ctx = document.getElementById('complianceChart').getContext('2d');
                if (chartInstances.compliance) chartInstances.compliance.destroy();
                chartInstances.compliance = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Compliant', 'Non Compliant'],
                        datasets: [{
                            data: [153, 32],
                            backgroundColor: ['#10b981', '#ef4444'],
                            borderColor: 'white',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { font: { size: 12 } }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.parsed || 0;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = ((value / total) * 100).toFixed(1);
                                        return label + ': ' + value + ' (' + percentage + '%)';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Gauges
            createGauge('gauge1', 100);
            createGauge('gauge2', 95.2);
            createGauge('gauge3', 72.1);

            // Framework gauges
            createGauge('gdprGauge1', 100);
            createGauge('gdprGauge2', 100);
            createGauge('gdprGauge3', 77.7);
            createGauge('soc2Gauge1', 100);
            createGauge('soc2Gauge2', 93.8);
            createGauge('soc2Gauge3', 73.1);

            // Cloud Security Chart
            if (document.getElementById('cloudSecurityChart')) {
                const ctx = document.getElementById('cloudSecurityChart').getContext('2d');
                if (chartInstances.cloudSecurity) chartInstances.cloudSecurity.destroy();
                chartInstances.cloudSecurity = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['IAM', 'EC2', 'S3', 'CloudTrail', 'SNS', 'SQS'],
                        datasets: [
                            {
                                label: 'OK',
                                data: [10, 10, 8, 5, 5, 8],
                                backgroundColor: '#10b981'
                            },
                            {
                                label: 'Needs Attention',
                                data: [30-10, 0, 0, 2, 0, 0],
                                backgroundColor: '#ef4444'
                            }
                        ]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: { stacked: true },
                            y: { stacked: true }
                        }
                    }
                });
            }

            // Function Grouping Chart
            if (document.getElementById('functionGroupingChart')) {
                const ctx = document.getElementById('functionGroupingChart').getContext('2d');
                if (chartInstances.functionGrouping) chartInstances.functionGrouping.destroy();
                chartInstances.functionGrouping = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Protect', 'Identify', 'Detect', 'Respond', 'Recover', 'Govern'],
                        datasets: [{
                            data: [94, 56, 22, 9, 3, 6],
                            backgroundColor: ['#8b5cf6', '#3b82f6', '#f59e0b', '#eab308', '#ef4444', '#10b981'],
                            borderColor: 'white',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { font: { size: 11 } }
                            }
                        }
                    }
                });
            }

            // By Framework Chart
            if (document.getElementById('byFrameworkChart')) {
                const ctx = document.getElementById('byFrameworkChart').getContext('2d');
                if (chartInstances.byFramework) chartInstances.byFramework.destroy();
                chartInstances.byFramework = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['SOC 2', 'GDPR'],
                        datasets: [
                            {
                                label: 'Non Compliant',
                                data: [20, 15],
                                backgroundColor: '#ef4444'
                            },
                            {
                                label: 'Compliant',
                                data: [80, 85],
                                backgroundColor: '#10b981'
                            },
                            {
                                label: 'Not Applicable',
                                data: [5, 5],
                                backgroundColor: '#d1d5db'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: { stacked: true },
                            y: { stacked: true }
                        }
                    }
                });
            }

            // Policies by Assignee
            if (document.getElementById('policiesByAssigneeChart')) {
                const ctx = document.getElementById('policiesByAssigneeChart').getContext('2d');
                if (chartInstances.policiesByAssignee) chartInstances.policiesByAssignee.destroy();
                chartInstances.policiesByAssignee = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['No Assignee', 'Ashish', 'Vishal Sindal', 'Others'],
                        datasets: [
                            {
                                label: 'Published',
                                data: [10, 15, 12, 8],
                                backgroundColor: '#10b981'
                            },
                            {
                                label: 'Needs Review',
                                data: [5, 3, 2, 3],
                                backgroundColor: '#ef4444'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: { stacked: true },
                            y: { stacked: true }
                        }
                    }
                });
            }

            // Evidences by Assignee
            if (document.getElementById('evidencesByAssigneeChart')) {
                const ctx = document.getElementById('evidencesByAssigneeChart').getContext('2d');
                if (chartInstances.evidencesByAssignee) chartInstances.evidencesByAssignee.destroy();
                chartInstances.evidencesByAssignee = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['No Assignee', 'John', 'Sarah', 'Others'],
                        datasets: [
                            {
                                label: 'Uploaded',
                                data: [15, 20, 15, 10],
                                backgroundColor: '#10b981'
                            },
                            {
                                label: 'Needs Attention',
                                data: [2, 1, 0, 0],
                                backgroundColor: '#f59e0b'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            x: { stacked: true },
                            y: { stacked: true }
                        }
                    }
                });
            }

            // Questionnaire Status
            if (document.getElementById('questionnaireStatusChart')) {
                const ctx = document.getElementById('questionnaireStatusChart').getContext('2d');
                if (chartInstances.questionnaireStatus) chartInstances.questionnaireStatus.destroy();
                chartInstances.questionnaireStatus = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['In Progress', 'Submitted', 'Created', 'Assessed'],
                        datasets: [{
                            data: [7, 1, 0, 2],
                            backgroundColor: ['#3b82f6', '#10b981', '#d1d5db', '#10b981'],
                            borderColor: 'white',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { font: { size: 11 } }
                            }
                        }
                    }
                });
            }

            // Risk Trend
            if (document.getElementById('riskTrendChart')) {
                const ctx = document.getElementById('riskTrendChart').getContext('2d');
                if (chartInstances.riskTrend) chartInstances.riskTrend.destroy();
                chartInstances.riskTrend = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan 31', 'Feb 1', 'Feb 2', 'Feb 3', 'Feb 4', 'Feb 5', 'Feb 6'],
                        datasets: [{
                            label: 'Number of Risks',
                            data: [5, 8, 12, 15, 18, 20, 20],
                            borderColor: '#6366f1',
                            backgroundColor: 'rgba(99, 102, 241, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4,
                            pointBackgroundColor: '#6366f1',
                            pointRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        scales: {
                            y: { beginAtZero: true }
                        }
                    }
                });
            }
        }

        function createGauge(canvasId, percentage) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;

            if (chartInstances[canvasId]) {
                chartInstances[canvasId].destroy();
            }

            const ctx = canvas.getContext('2d');
            chartInstances[canvasId] = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [percentage, 100 - percentage],
                        backgroundColor: ['#6366f1', '#e5e7eb'],
                        borderColor: 'white',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    }
                }
            });
        }

        // Initialize charts on page load
        initializeCharts();

        // Re-initialize charts when switching pages
        const sidebarPageItems = document.querySelectorAll('[data-page]');
        sidebarPageItems.forEach(item => {
            item.addEventListener('click', () => {
                setTimeout(() => {
                    initializeCharts();
                }, 100);
            });
        });
    </script>
</body>
</html>
